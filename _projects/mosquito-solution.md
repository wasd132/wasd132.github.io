---
layout: project
title: "태양광 기반 세종시 모기 퇴치 솔루션"
summary: >
    태양광과 Raspberry PI, Yolov5를 활용한 해충 방제 프로젝트입니다. 특정 위치에 말라리아등의 매개가 되는 모기가 다량 발생 시 이를 탐지하여 방제에 도움이 될 수 있도록 합니다.
image: assets/images/mobile-landscape.jpg
technologies: [Yolov5, Python, Raspberry PI]
github:
categories: ml
---

## 프로젝트 배경

매년 여름 세종시를 포함한 중부 지역에서 말라리아 매개 모기가 대량 발생하여 시민 건강을 위협합니다. 기존 방제 방식은 광범위한 살충제 살포에 의존하여 환경 문제가 발생하고, 모기 발생 지점을 실시간으로 파악하기 어려워 비효율적이었습니다. 이를 해결하기 위해 태양광으로 독립 전원을 확보하고, Raspberry Pi에 YOLOv5 모델을 배포하여 현장에서 실시간으로 모기를 탐지·모니터링하는 AI 기반 정밀 해충 방제 시스템을 설계했습니다.

## 주요 기능

<img src="{{ site.baseurl }}/assets/images/mosquito.png" alt="모기 탐지 시스템" style="max-width:601px; width:100%; height:auto;">

### 1. 해충 실시간 탐지
YOLOv5 모델을 Raspberry Pi에 배포하여 모기 발생 지역을 실시간으로 모니터링합니다. 카메라 모듈로 영상을 캡처하고, 엣지 디바이스에서 직접 추론을 수행하여 모기를 탐지·카운팅합니다. Raspberry Pi 환경에 맞춰 모델 경량화(Pruning, Quantization)를 적용하여 추론 속도와 정확도 간 균형을 최적화했습니다.

### 2. 태양광 전력 공급
외부 전원 인프라 없이 독립적으로 운영할 수 있도록 태양광 패널 기반 전력 시스템을 구축했습니다. 태양광 패널 → 배터리 충전 → Raspberry Pi 전력 공급의 구조로, 전원 접근이 어려운 야외 환경(하천변, 숲 등)에도 장기 설치가 가능합니다.

### 3. 발생 알림 시스템
특정 임계값 이상으로 모기가 탐지되면 관리 서버로 알림을 전송합니다. 방제 담당자가 발생 지점과 규모를 즉시 파악하여, 필요한 지역에만 선별적으로 방제를 수행할 수 있도록 합니다.

<img src="{{ site.baseurl }}/assets/images/dashboard.jpg" alt="모니터링 대시보드" style="max-width:601px; width:100%; height:auto;">

### 4. 모니터링 대시보드
탐지 데이터를 시각화하여 모기 발생 현황을 한눈에 파악할 수 있는 대시보드를 제공합니다. 시간대별 탐지 추이, 설치 지점별 발생량, 임계값 초과 이력 등을 확인할 수 있습니다.

## 시스템 구조

```
태양광 패널 → 배터리 충전 → Raspberry Pi 전력 공급
                              ├── 카메라 모듈 → 실시간 영상 캡처
                              ├── YOLOv5 추론 → 해충 탐지/카운팅
                              ├── 임계값 초과 시 → 서버 알림 전송
                              └── 탐지 데이터 → 대시보드 시각화
```

## 담당 업무 및 성과
컴퓨터공학과, 경영학과, 전자공학과 등 다양한 학과의 팀원으로 구성된 융합 프로젝트에서 **모델링 인프라 구축**, **데이터 어노테이션 및 학습 모델 제작**, **Raspberry Pi AI 모듈 연동·통신 테스트**, **대시보드 제작**을 담당했으며, 학과 간 협업 조율 역할도 수행했습니다.

### 1. 엣지 디바이스 최적화 및 모델 배포
Situation: 데스크톱 환경에서 학습된 YOLOv5 모델은 Raspberry Pi의 저전력 CPU 환경에서 추론 속도가 현저히 느려 실시간 모니터링이 불가능했습니다.

Action: 모델의 크기와 연산량을 줄이기 위해 **가지치기(Pruning)**와 양자화(Quantization) 기법을 단계적으로 적용하고, 입력 이미지 해상도(Input Size)를 조절하며 성능과 정확도의 최적 균형점을 도출했습니다.

Result: 초기 모델 대비 추론 속도를 3배 이상 향상시켜, 엣지 디바이스에서도 끊김 없는 실시간 탐지 파이프라인을 구축했습니다.

### 2. 데이터셋 구축 및 커스텀 모델 학습
Situation: 모기는 크기가 매우 작고 배경(풀숲, 어두운 환경)과 구분이 어려워, 일반적인 객체 탐지 모델로는 인식이 불가능했습니다.

Action: 실제 모기 트랩 환경에서 데이터를 직접 수집하고, **소형 객체(Small Object) 탐지에 특화된 라벨링 기준(최소 픽셀, 바운딩 박스 여유분)**을 수립하여 일관된 어노테이션 데이터를 확보했습니다. 이를 YOLOv5 커스텀 데이터셋으로 구성해 반복 학습을 수행했습니다.

Result: 현장 테스트 환경에서 유의미한 탐지 정확도(mAP)를 확보하여 오탐률을 최소화한 전용 모델을 완성했습니다.

### 3. 하드웨어-소프트웨어 통합 및 안정성 확보
Situation: 태양광 전원의 전압 변동으로 인해 Raspberry Pi가 재부팅되거나 추론 프로세스가 중단되는 불안정성이 발생했습니다.

Action: 전자공학과 팀원과 협업하여 전원 회로를 개선하는 한편, 소프트웨어 레벨에서는 **배터리 잔량에 따라 추론 주기를 동적으로 조절(Active/Sleep 모드)**하는 전력 관리 로직을 구현했습니다. 또한 네트워크 단절 시 데이터를 로컬에 임시 저장(Buffering)하고 재연결 시 일괄 전송하는 로직을 추가했습니다.

Result: 전원 및 통신 환경이 열악한 야외 필드 테스트에서도 데이터 유실 없이 시스템이 안정적으로 운영됨을 검증했습니다.

### 4. 여러 학과와의 협업 및 프로젝트 조율
Role: 경영학과(기획), 전자공학과(회로), 컴퓨터공학과(SW) 팀원 간의 용어 차이와 일정 불일치를 조율하는 PM 역할을 수행했습니다.

Action: 하드웨어 제작 지연 시 소프트웨어 팀이 유휴 상태가 되지 않도록 시뮬레이션 테스트를 먼저 진행하게 하고, 발표 일정에 맞춰 핵심 기능(탐지 데모)을 우선 개발하는 애자일(Agile) 방식의 일정 관리를 도입했습니다.



## 기술 스택

- **YOLOv5** — 모기 탐지 커스텀 모델 학습, 모델 경량화(Pruning, Quantization)
- **Python + OpenCV** — 카메라 프레임 캡처, 이미지 전처리, 추론 파이프라인
- **Raspberry Pi** — 엣지 디바이스 (카메라 모듈, 태양광 전원 연동, 현장 배치)
